{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Documents/From_AWS_Insight/covid19data4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import EnhancedTable from\"../../Components/Countries/CountryTable\";import{Grid,Paper}from\"@material-ui/core\";import WorldMap from\"../../Components/WorldMap/WorldMap\";import InfoPaper from\"../../Components/InfoPaper/InfoPaper\";import axios from'../../axios-data';import{connect}from'react-redux';import*as actions from'../../store/actions/index';import InfoPaperGlobal from\"../../Components/InfoPaper/InfoPaperGlobal\";import classes from'./Home.module.css';import Header from\"../../Components/Header/Header\";import Drawer from'@material-ui/core/Drawer';import Toolbar from'@material-ui/core/Toolbar';import Typography from\"@material-ui/core/Typography\";import CssBaseline from'@material-ui/core/CssBaseline';import{makeStyles}from'@material-ui/core/styles';import MobileMenu from\"../../Components/MobileMenu/MobileMenu\";var headCells=[{name:'name',label:'Name'},{name:'totalCases',label:'Total Cases'}];var drawerWidth=320;var useStyles=makeStyles(function(theme){return{root:{display:'flex'},appBar:{zIndex:theme.zIndex.drawer+1},drawer:{width:drawerWidth,flexShrink:0},drawerPaper:{width:drawerWidth},drawerContainer:{overflow:'auto'},content:{flexGrow:1}};});var Home=function Home(props){useEffect(function(){props.onLoadData();onRowClickHandler('US');globalTimeline();setWindowSize({windowWith:window.innerWidth});},[]);var _useState=useState({data:{\"updated_at\":\"\",\"date\":\"2020-04-17\",\"deaths\":148814,\"confirmed\":2206311,\"recovered\":557656,\"active\":1499841,\"new_confirmed\":55293,\"new_recovered\":16337,\"new_deaths\":5043,\"is_in_progress\":true}}),_useState2=_slicedToArray(_useState,2),globalInfo=_useState2[0],setGlobalInfo=_useState2[1];var _useState3=useState({data:{\"data\":{\"coordinates\":{\"latitude\":33,\"longitude\":65},\"name\":\"Afghanistan\",\"code\":\"AF\",\"population\":29121286,\"updated_at\":\"2020-04-13T22:53:08.877Z\",\"today\":{\"deaths\":3,\"confirmed\":58},\"latest_data\":{\"deaths\":21,\"confirmed\":665,\"recovered\":32,\"critical\":0,\"calculated\":{\"death_rate\":3.1578947368421053,\"recovery_rate\":4.8120300751879705,\"recovered_vs_death_ratio\":null,\"cases_per_million_population\":17}},\"timeline\":[]},\"_cacheHit\":true}}),_useState4=_slicedToArray(_useState3,2),infoData=_useState4[0],setInfoData=_useState4[1];var _useState5=useState({windowWith:window.innerWidth}),_useState6=_slicedToArray(_useState5,2),windowSize=_useState6[0],setWindowSize=_useState6[1];var onRowClickHandler=function onRowClickHandler(countryCode){axios.get('/countries/'+countryCode).then(function(response){setInfoData(response);}).catch(function(error){return error;});};var globalTimeline=function globalTimeline(){axios.get('/timeline').then(function(response){setGlobalInfo({data:response.data.data[0]});}).catch(function(error){return error;});};var tempData=0;for(var key in props.rows){if(props.rows[key].latest_data.confirmed>tempData){tempData=props.rows[key].latest_data.confirmed;}}var classStyle=useStyles();var outScreen=null;if(windowSize.windowWith>=1024){outScreen=/*#__PURE__*/React.createElement(\"div\",{className:classStyle.root},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Drawer,{className:classStyle.drawer,variant:\"permanent\",classes:{paper:classStyle.drawerPaper}},/*#__PURE__*/React.createElement(Toolbar,null),/*#__PURE__*/React.createElement(\"div\",{className:classStyle.drawerContainer},/*#__PURE__*/React.createElement(InfoPaperGlobal,{data:globalInfo.data}),/*#__PURE__*/React.createElement(EnhancedTable,{clickHandler:onRowClickHandler,headCells:headCells,rows:props.rows}))),/*#__PURE__*/React.createElement(\"main\",{className:classStyle.content},/*#__PURE__*/React.createElement(Toolbar,null),/*#__PURE__*/React.createElement(InfoPaper,{data:infoData}),/*#__PURE__*/React.createElement(WorldMap,{data:props.rows,totalCasesCalculated:tempData})));}else{outScreen=/*#__PURE__*/React.createElement(\"div\",{className:classes.MobileRoot},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.WorldMap},/*#__PURE__*/React.createElement(WorldMap,{data:props.rows,totalCasesCalculated:tempData})),/*#__PURE__*/React.createElement(\"div\",{className:classes.MobileMenu},/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(MobileMenu,{infoPaper:infoData,infoPaperGlobal:globalInfo.data,enhanchedTableHeadCells:headCells,enhanchedTableRows:props.rows,clickHandler:onRowClickHandler})))));}return/*#__PURE__*/React.createElement(React.Fragment,null,outScreen);};var mapStateToProps=function mapStateToProps(state){return{rows:state.countryData.rows,loading:state.countryData.loading};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onLoadData:function onLoadData(){return dispatch(actions.loadData());}};};export default connect(mapStateToProps,mapDispatchToProps)(Home);","map":{"version":3,"sources":["/Users/mac/Documents/From_AWS_Insight/covid19data4/src/hoc/Home/Home.js"],"names":["React","useState","useEffect","EnhancedTable","Grid","Paper","WorldMap","InfoPaper","axios","connect","actions","InfoPaperGlobal","classes","Header","Drawer","Toolbar","Typography","CssBaseline","makeStyles","MobileMenu","headCells","name","label","drawerWidth","useStyles","theme","root","display","appBar","zIndex","drawer","width","flexShrink","drawerPaper","drawerContainer","overflow","content","flexGrow","Home","props","onLoadData","onRowClickHandler","globalTimeline","setWindowSize","windowWith","window","innerWidth","data","globalInfo","setGlobalInfo","infoData","setInfoData","windowSize","countryCode","get","then","response","catch","error","tempData","key","rows","latest_data","confirmed","classStyle","outScreen","paper","MobileRoot","mapStateToProps","state","countryData","loading","mapDispatchToProps","dispatch","loadData"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport EnhancedTable from \"../../Components/Countries/CountryTable\";\nimport {Grid, Paper} from \"@material-ui/core\";\nimport WorldMap from \"../../Components/WorldMap/WorldMap\";\nimport InfoPaper from \"../../Components/InfoPaper/InfoPaper\";\nimport axios from '../../axios-data';\nimport {connect} from 'react-redux';\nimport * as actions from '../../store/actions/index';\nimport InfoPaperGlobal from \"../../Components/InfoPaper/InfoPaperGlobal\";\nimport classes from './Home.module.css';\nimport Header from \"../../Components/Header/Header\";\nimport Drawer from '@material-ui/core/Drawer';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from \"@material-ui/core/Typography\";\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MobileMenu from \"../../Components/MobileMenu/MobileMenu\";\n\n\nconst headCells = [{name: 'name', label: 'Name'}, {name:'totalCases', label: 'Total Cases'}];\nconst drawerWidth = 320;\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n    },\n    appBar: {\n        zIndex: theme.zIndex.drawer + 1,\n    },\n    drawer: {\n        width: drawerWidth,\n        flexShrink: 0,\n    },\n    drawerPaper: {\n        width: drawerWidth,\n    },\n    drawerContainer: {\n        overflow: 'auto',\n    },\n    content: {\n        flexGrow: 1\n    },\n}));\n\n\nconst Home = (props) =>{\n\n    useEffect(() => {\n        props.onLoadData();\n        onRowClickHandler('US');\n        globalTimeline();\n\n        setWindowSize({ windowWith: window.innerWidth });\n\n    }, []);\n\n    const [globalInfo, setGlobalInfo] = useState({data:{\n            \"updated_at\": \"\",\n            \"date\": \"2020-04-17\",\n            \"deaths\": 148814,\n            \"confirmed\": 2206311,\n            \"recovered\": 557656,\n            \"active\": 1499841,\n            \"new_confirmed\": 55293,\n            \"new_recovered\": 16337,\n            \"new_deaths\": 5043,\n            \"is_in_progress\": true\n        }});\n\n    const [infoData, setInfoData] = useState({data: {\n            \"data\": {\n                \"coordinates\": {\n                    \"latitude\": 33,\n                    \"longitude\": 65\n                },\n                \"name\": \"Afghanistan\",\n                \"code\": \"AF\",\n                \"population\": 29121286,\n                \"updated_at\": \"2020-04-13T22:53:08.877Z\",\n                \"today\": {\n                    \"deaths\": 3,\n                    \"confirmed\": 58\n                },\n                \"latest_data\": {\n                    \"deaths\": 21,\n                    \"confirmed\": 665,\n                    \"recovered\": 32,\n                    \"critical\": 0,\n                    \"calculated\": {\n                        \"death_rate\": 3.1578947368421053,\n                        \"recovery_rate\": 4.8120300751879705,\n                        \"recovered_vs_death_ratio\": null,\n                        \"cases_per_million_population\": 17\n                    }\n                },\n                \"timeline\": []\n            },\n            \"_cacheHit\": true\n        }});\n\n    const [windowSize, setWindowSize] = useState({windowWith: window.innerWidth});\n\n    const onRowClickHandler = (countryCode) => {\n\n        axios.get('/countries/' + countryCode ).then(response => {\n\n            setInfoData(response);\n\n        }).catch(error => {\n            return error;\n        });\n\n    }\n\n    const globalTimeline = () => {\n        axios.get('/timeline' ).then(response => {\n\n            setGlobalInfo({data: response.data.data[0]});\n\n        }).catch(error => {\n            return error;\n        });\n    }\n\n    let tempData = 0;\n    for (let key in props.rows){\n        if (props.rows[key].latest_data.confirmed > tempData){\n            tempData = props.rows[key].latest_data.confirmed\n        }\n\n    }\n    const classStyle = useStyles();\n    let outScreen = null;\n    if (windowSize.windowWith >= 1024) {\n         outScreen =  (<div className={classStyle.root}>\n             <CssBaseline />\n             <Header/>\n             <Drawer\n                 className={classStyle.drawer}\n                 variant=\"permanent\"\n                 classes={{\n                     paper: classStyle.drawerPaper,\n                 }}\n             >\n                 <Toolbar />\n                 <div className={classStyle.drawerContainer}>\n\n                     <InfoPaperGlobal data={globalInfo.data}/>\n\n                     <EnhancedTable clickHandler={onRowClickHandler} headCells={headCells} rows={props.rows}/>\n\n                 </div>\n             </Drawer>\n             <main className={classStyle.content}>\n\n                 <Toolbar/>\n                 <InfoPaper data={infoData}/>\n\n                 <WorldMap data={props.rows} totalCasesCalculated ={tempData}/>\n\n             </main>\n\n\n         </div>);\n\n    } else{\n         outScreen =   (\n             <div className={classes.MobileRoot}>\n            <Header/>\n            <div className={classes.WorldMap}>\n                <WorldMap data={props.rows} totalCasesCalculated ={tempData}/>\n            </div>\n                <div className={classes.MobileMenu}>\n                    <Grid container  >\n                        <Grid item xs={12}>\n\n                            <MobileMenu infoPaper={infoData} infoPaperGlobal={globalInfo.data} enhanchedTableHeadCells={headCells} enhanchedTableRows={props.rows} clickHandler={onRowClickHandler} />\n                        </Grid>\n                    </Grid>\n                </div>\n\n\n        </div>);\n    }\n\n\n\n    return(\n        <React.Fragment>\n            {outScreen}\n\n\n        </React.Fragment>\n\n\n    );\n};\n\nconst mapStateToProps = state => {\n\n    return{\n        rows: state.countryData.rows,\n        loading: state.countryData.loading,\n\n    };\n};\n\nconst mapDispatchToProps = dispatch =>{\n    return {\n        onLoadData: () => dispatch(actions.loadData())\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);"]},"metadata":{},"sourceType":"module"}